
% Rcm = [-0.00807289,     0.99985,  -0.0152963;
%         -0.999341, -0.00860837,  -0.0352705 ;
%        -0.0353969,   0.0150015,    0.999261];
%    
% tcm = [-0.131446, -0.0310314, 1.63022]';
clc
Rpc = [
    
    0.0000   -0.9990   -0.0436
    0.9854    0.0074   -0.1700
    0.1702   -0.0430    0.9845];

Rp = Rpc;

tpc =[
    0.0200
   -0.0396
   -0.0059 ];

Rk = [-0.00807289,     0.99985,  -0.0152963; -0.999341, -0.00860837,  -0.0352705; -0.0353969,   0.0150015,    0.999261];

Tp = [Rp tpc; 0 0 0 1];

Tk = [Rk [-0.131446, -0.0310314, 1.63022].'; 0 0 0 1];

T = Tp*Tk;

% x1 = [0.072944055504010 , -0.086871882834826, 1]';
% X3 = [0.137, 0.311, 0, 1]';
% X2 = [0.053, 0.409, 0, 1]';
% X1 = [-0.048, 0.546,0, 1]';
X3 = [7, 12, 0, 1]';
X2 = [3, 5, 0, 1]';
X1 = [1, 3,0, 1]';

m = T*[X1, X2, X3];

x3 = m(:,3) / m(3, 3 );
x2 = m(:,2) / m(3, 2 );
x1 = m(:,1) / m(3, 1 );

% full definition of the homography
gg1 = cross(x1(1:3), T(1:3,:)*X1)
gg2 = cross(x2(1:3), T(1:3,:)*X2)
gg3 = cross(x3(1:3), T(1:3,:)*X3)
